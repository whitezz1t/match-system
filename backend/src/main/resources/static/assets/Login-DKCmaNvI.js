import{E as e,F as t,I as n,L as r,N as i,T as a,V as o,_ as s,f as c,g as l,j as u,k as d,n as f,s as p,v as m,w as h,x as g}from"./index-BJes4zwE.js";import{t as _}from"./axios-CseGY6Es.js";var v={class:`page-container`},y={style:{"margin-top":`20px`,"text-align":`center`,"border-top":`1px solid #eee`,"padding-top":`15px`}},b=s({__name:`Login`,setup(o){let s=l(),b=n(!1),x=t({username:``,password:``}),S=async()=>{if(!x.username||!x.password){f.warning(`请输入账号和密码`);return}b.value=!0;try{(await _.post(`/api/login`,null,{params:{username:x.username,password:x.password}})).data===`success`?(sessionStorage.setItem(`match_user`,x.username),f.success(`登录成功`),s.push(`/menu`)):f.error(`账号或密码错误`)}catch{f.error(`无法连接到服务器`)}finally{b.value=!1}};return(t,n)=>{let o=u(`el-input`),s=u(`el-form-item`),l=u(`el-button`),f=u(`el-form`),_=u(`el-card`);return d(),h(`div`,v,[e(_,{class:`box-card`,shadow:`always`},{default:i(()=>[n[6]||=g(`div`,{class:`login-title`},`⚖️ 比赛系统登录`,-1),e(f,{size:`large`},{default:i(()=>[e(s,null,{default:i(()=>[e(o,{modelValue:x.username,"onUpdate:modelValue":n[0]||=e=>x.username=e,placeholder:`请输入用户名`,"prefix-icon":r(c)},null,8,[`modelValue`,`prefix-icon`])]),_:1}),e(s,null,{default:i(()=>[e(o,{modelValue:x.password,"onUpdate:modelValue":n[1]||=e=>x.password=e,type:`password`,placeholder:`请输入密码`,"prefix-icon":r(p),"show-password":``,onKeyup:m(S,[`enter`])},null,8,[`modelValue`,`prefix-icon`])]),_:1}),e(l,{type:`primary`,style:{width:`100%`,"font-weight":`bold`},onClick:S,loading:b.value,round:``},{default:i(()=>[...n[3]||=[a(` 登 录 `,-1)]]),_:1},8,[`loading`]),g(`div`,y,[n[5]||=g(`span`,{style:{color:`#909399`,"font-size":`14px`}},`还没有账号？`,-1),e(l,{type:`primary`,link:``,onClick:n[2]||=e=>t.$router.push(`/register`)},{default:i(()=>[...n[4]||=[a(`点击注册`,-1)]]),_:1})])]),_:1})]),_:1})])}}},[[`__scopeId`,`data-v-16c2c75b`]]);export{b as default};